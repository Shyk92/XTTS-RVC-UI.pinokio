{
  "run": [{
    "method": "shell.start"
  },
    {
      "method": "shell.run",
      "params": {
        "message": "git clone https://github.com/Vali-98/XTTS-RVC-UI.git",
        "on": [
          {
            "event": null,
            "return": true
          }
        ]
      }
    },
    {
      "method": "shell.run",
      "params": {
        "message": "{{os.platform() === 'win32' ? 'python' : 'python3'}} -m venv venv",
        "on": [
          {
            "event": null,
            "return": true
          }
        ]
      }
    },
    {
      "method": "shell.enter",
      "params": {
        "message": "{{os.platform() === 'win32' ? 'venv\\\\Scripts\\\\activate' : 'source venv/bin/activate'}}",
        "on": [
          {
            "event": null,
            "return": true
          }
        ]
      }
    },
    {
      "method": "shell.enter",
      "params": {
        "message": "pip install --upgrade pip",
        "on": [
          {
            "event": null,
            "return": true
          }
        ]
      }
    },
    {
      "method": "shell.enter",
      "params": {
        "message": "pip install --upgrade -r requirements.txt",
        "on": [
          {
            "event": null,
            "return": true
          }
        ]
      }
    },
    {
      "method": "shell.enter",
      "params": {
        "conditional": "{{cuda_available() ? 'pip install torch==2.1.0 torchaudio==2.1.0 --index-url https://download.pytorch.org/whl/cu118' : 'pip install torch torchaudio'}}",
        "on": [
          {
            "event": null,
            "return": true
          }
        ]
      }
    },{
      "method": "shell.enter",
      "params": {
        "message": "cp ./app.py ./XTTS-RVC-UI/app.py",
        "on": [
          {
            "event": null,
            "return": true
          }
        ]
      }
    },
    {
      "method": "shell.enter",
      "params": {
        "message": "python XTTS-RVC-UI/app.py",
        "on": [
          {
            "event": "Gradio app running on",
            "return": true
          }
        ]
      }
    }
  ]
}
